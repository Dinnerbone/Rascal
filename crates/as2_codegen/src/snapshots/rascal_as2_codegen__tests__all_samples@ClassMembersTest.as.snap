---
source: crates/as2_codegen/src/tests.rs
expression: result
input_file: samples/as2_classes/ClassMembersTest.as
---
initializer: ~
extra_modules:
  - - AnEmptyInterface
    - actions:
        - ConstantPool: []
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: AnEmptyInterface
        - GetMember
        - Not
        - Not
        - If: loc0000
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: AnEmptyInterface
        - DefineFunction:
            name: ""
            params: []
            actions:
              actions: []
              label_positions: {}
        - SetMember
        - Pop
      label_positions:
        loc0000: 13
  - - path.to.ANestedClass
    - actions:
        - ConstantPool:
            - path
            - to
            - ANestedClass
            - message
            - Success!
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: path
        - GetMember
        - Not
        - Not
        - If: loc0000
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: path
            - Integer: 0
            - String: Object
        - NewObject
        - SetMember
        - Pop
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: path
        - GetMember
        - Push:
            - String: to
        - GetMember
        - Not
        - Not
        - If: loc0001
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: path
        - GetMember
        - Push:
            - String: to
            - Integer: 0
            - String: Object
        - NewObject
        - SetMember
        - Pop
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: path
        - GetMember
        - Push:
            - String: to
        - GetMember
        - Push:
            - String: ANestedClass
        - GetMember
        - Not
        - Not
        - If: loc0002
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: path
        - GetMember
        - Push:
            - String: to
        - GetMember
        - Push:
            - String: ANestedClass
        - DefineFunction:
            name: ""
            params: []
            actions:
              actions: []
              label_positions: {}
        - StoreRegister: 1
        - SetMember
        - Push:
            - Register: 1
            - String: prototype
        - GetMember
        - StoreRegister: 2
        - Pop
        - Push:
            - Register: 1
            - String: create
        - DefineFunction:
            name: ""
            params: []
            actions:
              actions:
                - Push:
                    - Integer: 0
                    - Constant: 0
                - GetVariable
                - Push:
                    - Constant: 1
                - GetMember
                - Push:
                    - Constant: 2
                - NewMethod
                - Return
              label_positions: {}
        - SetMember
        - Push:
            - Register: 2
            - String: success
        - DefineFunction:
            name: ""
            params: []
            actions:
              actions:
                - Push:
                    - Constant: 0
                - GetVariable
                - Push:
                    - Constant: 1
                - GetMember
                - Push:
                    - Constant: 2
                - GetMember
                - Push:
                    - Constant: 3
                - GetMember
                - Trace
              label_positions: {}
        - SetMember
        - Push:
            - Register: 1
            - String: message
            - Constant: 4
        - SetMember
        - Push:
            - Integer: 1
            - "Null"
            - String: _global
        - GetVariable
        - Push:
            - String: path
        - GetMember
        - Push:
            - String: to
        - GetMember
        - Push:
            - String: ANestedClass
        - GetMember
        - Push:
            - String: prototype
        - GetMember
        - Push:
            - Integer: 3
            - String: ASSetPropFlags
        - CallFunction
        - Pop
      label_positions:
        loc0000: 13
        loc0001: 30
        loc0002: 76
  - - ClassMembersTest
    - actions:
        - ConstantPool:
            - world
            - this
            - greet
            - BitmapData
            - "regularPropertyWithoutValue: "
            - regularPropertyWithoutValue
            - path
            - to
            - ANestedClass
            - create
            - success
            - test!
            - "Hey, "
            - name
            - "!"
            - ClassMembersTest
            - shoutStatically
            - scream
            - BitmapData on class!
            - Ahhh!
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: ClassMembersTest
        - GetMember
        - Not
        - Not
        - If: loc0000
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: ClassMembersTest
        - DefineFunction:
            name: ""
            params:
              - name
            actions:
              actions:
                - Push:
                    - Constant: 0
                    - Integer: 1
                    - Constant: 1
                - GetVariable
                - Push:
                    - Constant: 2
                - CallMethod
                - Pop
                - Push:
                    - Constant: 1
                - GetVariable
                - Push:
                    - Constant: 3
                - GetMember
                - Trace
                - Push:
                    - Constant: 4
                    - Constant: 1
                - GetVariable
                - Push:
                    - Constant: 5
                - GetMember
                - Add2
                - Trace
                - Push:
                    - Integer: 0
                    - Integer: 0
                    - Constant: 6
                - GetVariable
                - Push:
                    - Constant: 7
                - GetMember
                - Push:
                    - Constant: 8
                - GetMember
                - Push:
                    - Constant: 9
                - CallMethod
                - Push:
                    - Constant: 10
                - CallMethod
                - Trace
              label_positions: {}
        - StoreRegister: 1
        - SetMember
        - Push:
            - Register: 1
            - String: prototype
        - GetMember
        - StoreRegister: 2
        - Pop
        - Push:
            - String: _global
        - GetVariable
        - Push:
            - String: AnEmptyInterface
        - GetMember
        - Push:
            - Integer: 1
            - String: _global
        - GetVariable
        - Push:
            - String: ClassMembersTest
        - GetMember
        - ImplementsOp
        - Push:
            - Register: 2
            - String: test
        - DefineFunction:
            name: ""
            params: []
            actions:
              actions:
                - Push:
                    - Constant: 11
                - Trace
              label_positions: {}
        - SetMember
        - Push:
            - Register: 2
            - String: greet
        - DefineFunction:
            name: ""
            params:
              - name
            actions:
              actions:
                - Push:
                    - Constant: 12
                    - Constant: 13
                - GetVariable
                - Add2
                - Push:
                    - Constant: 14
                - Add2
                - Trace
                - Push:
                    - Integer: 0
                    - Constant: 15
                - GetVariable
                - Push:
                    - Constant: 16
                - CallMethod
                - Pop
              label_positions: {}
        - SetMember
        - Push:
            - Register: 1
            - String: shoutStatically
        - DefineFunction:
            name: ""
            params: []
            actions:
              actions:
                - Push:
                    - Constant: 15
                - GetVariable
                - Push:
                    - Constant: 17
                - GetMember
                - Trace
              label_positions: {}
        - SetMember
        - Push:
            - Register: 2
            - String: maybeABitmapData
        - DefineFunction:
            name: ""
            params: []
            actions:
              actions:
                - Push:
                    - "Null"
                - Return
              label_positions: {}
        - SetMember
        - Push:
            - Register: 2
            - String: secret
        - DefineFunction:
            name: ""
            params: []
            actions:
              actions: []
              label_positions: {}
        - SetMember
        - Push:
            - Register: 2
            - String: notASecret
        - DefineFunction:
            name: ""
            params: []
            actions:
              actions: []
              label_positions: {}
        - SetMember
        - Push:
            - Register: 2
            - String: regularPropertySetToFive
            - Integer: 5
        - SetMember
        - Push:
            - Register: 2
            - String: BitmapData
            - Constant: 18
        - SetMember
        - Push:
            - Register: 1
            - String: scream
            - Constant: 19
        - SetMember
        - Push:
            - Integer: 1
            - "Null"
            - String: _global
        - GetVariable
        - Push:
            - String: ClassMembersTest
        - GetMember
        - Push:
            - String: prototype
        - GetMember
        - Push:
            - Integer: 3
            - String: ASSetPropFlags
        - CallFunction
        - Pop
      label_positions:
        loc0000: 59
