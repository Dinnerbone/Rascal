---
source: crates/as2/src/parser/tests.rs
expression: parsed
input_file: samples/as2/typeof.as
---
Ok:
  statements:
    - Declare:
        - name: num
          value:
            span:
              start: 10
              end: 11
            value:
              Constant:
                Integer: 1
          type_name: ~
    - Declare:
        - name: obj
          value:
            span:
              start: 23
              end: 45
            value:
              InitObject:
                - - num
                  - span:
                      start: 29
                      end: 30
                    value:
                      Constant:
                        Integer: 1
                - - trace
                  - span:
                      start: 39
                      end: 44
                    value:
                      Constant:
                        Identifier: trace
          type_name: ~
    - Expr:
        span:
          start: 47
          end: 83
        value:
          Call:
            name:
              span:
                start: 47
                end: 52
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 53
                  end: 82
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 53
                        end: 67
                      value:
                        Constant:
                          String: "typeof num: "
                    - span:
                        start: 71
                        end: 81
                      value:
                        TypeOf:
                          - span:
                              start: 78
                              end: 81
                            value:
                              Constant:
                                Identifier: num
    - Expr:
        span:
          start: 95
          end: 131
        value:
          Call:
            name:
              span:
                start: 95
                end: 100
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 101
                  end: 130
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 101
                        end: 115
                      value:
                        Constant:
                          String: "typeof obj: "
                    - span:
                        start: 119
                        end: 129
                      value:
                        TypeOf:
                          - span:
                              start: 126
                              end: 129
                            value:
                              Constant:
                                Identifier: obj
    - Expr:
        span:
          start: 143
          end: 187
        value:
          Call:
            name:
              span:
                start: 143
                end: 148
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 149
                  end: 186
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 149
                        end: 167
                      value:
                        Constant:
                          String: "typeof obj.num: "
                    - span:
                        start: 171
                        end: 185
                      value:
                        TypeOf:
                          - span:
                              start: 181
                              end: 185
                            value:
                              Field:
                                - span:
                                    start: 178
                                    end: 181
                                  value:
                                    Constant:
                                      Identifier: obj
                                - span:
                                    start: 182
                                    end: 185
                                  value:
                                    Constant:
                                      String: num
    - Expr:
        span:
          start: 199
          end: 251
        value:
          Call:
            name:
              span:
                start: 199
                end: 204
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 205
                  end: 250
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 205
                        end: 227
                      value:
                        Constant:
                          String: "typeof obj.num + 1: "
                    - span:
                        start: 231
                        end: 249
                      value:
                        BinaryOperator:
                          - Add
                          - span:
                              start: 231
                              end: 245
                            value:
                              TypeOf:
                                - span:
                                    start: 241
                                    end: 245
                                  value:
                                    Field:
                                      - span:
                                          start: 238
                                          end: 241
                                        value:
                                          Constant:
                                            Identifier: obj
                                      - span:
                                          start: 242
                                          end: 245
                                        value:
                                          Constant:
                                            String: num
                          - span:
                              start: 248
                              end: 249
                            value:
                              Constant:
                                Integer: 1
    - Expr:
        span:
          start: 264
          end: 366
        value:
          Call:
            name:
              span:
                start: 264
                end: 269
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 270
                  end: 365
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 270
                        end: 320
                      value:
                        Constant:
                          String: "typeof obj.num == \"number\" ? \":)\" : \":(\": "
                    - span:
                        start: 324
                        end: 364
                      value:
                        Ternary:
                          condition:
                            span:
                              start: 334
                              end: 350
                            value:
                              BinaryOperator:
                                - Equal
                                - span:
                                    start: 324
                                    end: 338
                                  value:
                                    TypeOf:
                                      - span:
                                          start: 334
                                          end: 338
                                        value:
                                          Field:
                                            - span:
                                                start: 331
                                                end: 334
                                              value:
                                                Constant:
                                                  Identifier: obj
                                            - span:
                                                start: 335
                                                end: 338
                                              value:
                                                Constant:
                                                  String: num
                                - span:
                                    start: 342
                                    end: 350
                                  value:
                                    Constant:
                                      String: number
                          "yes":
                            span:
                              start: 353
                              end: 357
                            value:
                              Constant:
                                String: ":)"
                          "no":
                            span:
                              start: 360
                              end: 364
                            value:
                              Constant:
                                String: ":("
    - Expr:
        span:
          start: 374
          end: 452
        value:
          Call:
            name:
              span:
                start: 374
                end: 379
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 380
                  end: 451
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 380
                        end: 415
                      value:
                        Constant:
                          String: "typeof obj.num + typeof obj.num: "
                    - span:
                        start: 419
                        end: 450
                      value:
                        BinaryOperator:
                          - Add
                          - span:
                              start: 419
                              end: 433
                            value:
                              TypeOf:
                                - span:
                                    start: 429
                                    end: 433
                                  value:
                                    Field:
                                      - span:
                                          start: 426
                                          end: 429
                                        value:
                                          Constant:
                                            Identifier: obj
                                      - span:
                                          start: 430
                                          end: 433
                                        value:
                                          Constant:
                                            String: num
                          - span:
                              start: 436
                              end: 450
                            value:
                              TypeOf:
                                - span:
                                    start: 446
                                    end: 450
                                  value:
                                    Field:
                                      - span:
                                          start: 443
                                          end: 446
                                        value:
                                          Constant:
                                            Identifier: obj
                                      - span:
                                          start: 447
                                          end: 450
                                        value:
                                          Constant:
                                            String: num
    - Expr:
        span:
          start: 470
          end: 518
        value:
          Call:
            name:
              span:
                start: 470
                end: 475
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 476
                  end: 517
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 476
                        end: 496
                      value:
                        Constant:
                          String: "typeof obj.trace: "
                    - span:
                        start: 500
                        end: 516
                      value:
                        TypeOf:
                          - span:
                              start: 510
                              end: 516
                            value:
                              Field:
                                - span:
                                    start: 507
                                    end: 510
                                  value:
                                    Constant:
                                      Identifier: obj
                                - span:
                                    start: 511
                                    end: 516
                                  value:
                                    Constant:
                                      String: trace
    - Expr:
        span:
          start: 532
          end: 584
        value:
          Call:
            name:
              span:
                start: 532
                end: 537
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 538
                  end: 583
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 538
                        end: 560
                      value:
                        Constant:
                          String: "typeof obj.trace(): "
                    - span:
                        start: 564
                        end: 582
                      value:
                        TypeOf:
                          - span:
                              start: 574
                              end: 582
                            value:
                              Call:
                                name:
                                  span:
                                    start: 574
                                    end: 580
                                  value:
                                    Field:
                                      - span:
                                          start: 571
                                          end: 574
                                        value:
                                          Constant:
                                            Identifier: obj
                                      - span:
                                          start: 575
                                          end: 580
                                        value:
                                          Constant:
                                            String: trace
                                args: []
    - Expr:
        span:
          start: 599
          end: 663
        value:
          Call:
            name:
              span:
                start: 599
                end: 604
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 605
                  end: 662
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 605
                        end: 633
                      value:
                        Constant:
                          String: "typeof(nonexistent, obj): "
                    - span:
                        start: 637
                        end: 661
                      value:
                        TypeOf:
                          - span:
                              start: 644
                              end: 655
                            value:
                              Constant:
                                Identifier: nonexistent
                          - span:
                              start: 657
                              end: 660
                            value:
                              Constant:
                                Identifier: obj
