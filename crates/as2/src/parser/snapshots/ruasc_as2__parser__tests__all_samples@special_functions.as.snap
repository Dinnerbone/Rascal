---
source: crates/as2/src/parser/tests.rs
expression: parsed
input_file: samples/as2/special_functions.as
---
Ok:
  statements:
    - Expr:
        span:
          start: 0
          end: 9
        value:
          Call:
            name:
              span:
                start: 0
                end: 4
              value:
                Constant:
                  Identifier: call
            args:
              - span:
                  start: 5
                  end: 8
                value:
                  Constant:
                    Integer: 123
    - Expr:
        span:
          start: 11
          end: 17
        value:
          Call:
            name:
              span:
                start: 11
                end: 14
              value:
                Constant:
                  Identifier: chr
            args:
              - span:
                  start: 15
                  end: 16
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 19
          end: 29
        value:
          Call:
            name:
              span:
                start: 19
                end: 27
              value:
                Constant:
                  Identifier: getTimer
            args: []
    - Expr:
        span:
          start: 31
          end: 57
        value:
          Call:
            name:
              span:
                start: 31
                end: 37
              value:
                Constant:
                  Identifier: getURL
            args:
              - span:
                  start: 38
                  end: 56
                value:
                  Constant:
                    String: "http://ruffle.rs"
    - Expr:
        span:
          start: 59
          end: 95
        value:
          Call:
            name:
              span:
                start: 59
                end: 65
              value:
                Constant:
                  Identifier: getURL
            args:
              - span:
                  start: 66
                  end: 84
                value:
                  Constant:
                    String: "http://ruffle.rs"
              - span:
                  start: 86
                  end: 94
                value:
                  Constant:
                    String: window
    - Expr:
        span:
          start: 97
          end: 140
        value:
          Call:
            name:
              span:
                start: 97
                end: 103
              value:
                Constant:
                  Identifier: GETurl
            args:
              - span:
                  start: 104
                  end: 122
                value:
                  Constant:
                    String: "http://ruffle.rs"
              - span:
                  start: 124
                  end: 132
                value:
                  Constant:
                    String: window
              - span:
                  start: 134
                  end: 139
                value:
                  Constant:
                    String: get
    - Expr:
        span:
          start: 142
          end: 154
        value:
          Call:
            name:
              span:
                start: 142
                end: 152
              value:
                Constant:
                  Identifier: getVersion
            args: []
    - Expr:
        span:
          start: 156
          end: 172
        value:
          Call:
            name:
              span:
                start: 156
                end: 167
              value:
                Constant:
                  Identifier: gotoAndPlay
            args:
              - span:
                  start: 168
                  end: 171
                value:
                  Constant:
                    Integer: 123
    - Expr:
        span:
          start: 174
          end: 192
        value:
          Call:
            name:
              span:
                start: 174
                end: 185
              value:
                Constant:
                  Identifier: gotoAndPlay
            args:
              - span:
                  start: 186
                  end: 191
                value:
                  Constant:
                    String: "123"
    - Expr:
        span:
          start: 194
          end: 208
        value:
          Call:
            name:
              span:
                start: 194
                end: 205
              value:
                Constant:
                  Identifier: GOTOandPLAY
            args:
              - span:
                  start: 206
                  end: 207
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 210
          end: 235
        value:
          Call:
            name:
              span:
                start: 210
                end: 221
              value:
                Constant:
                  Identifier: gotoAndPlay
            args:
              - span:
                  start: 222
                  end: 229
                value:
                  Constant:
                    String: scene
              - span:
                  start: 231
                  end: 234
                value:
                  Constant:
                    Integer: 123
    - Expr:
        span:
          start: 237
          end: 264
        value:
          Call:
            name:
              span:
                start: 237
                end: 248
              value:
                Constant:
                  Identifier: gotoAndPlay
            args:
              - span:
                  start: 249
                  end: 256
                value:
                  Constant:
                    String: scene
              - span:
                  start: 258
                  end: 263
                value:
                  Constant:
                    String: "123"
    - Expr:
        span:
          start: 266
          end: 289
        value:
          Call:
            name:
              span:
                start: 266
                end: 277
              value:
                Constant:
                  Identifier: gotoAndPlay
            args:
              - span:
                  start: 278
                  end: 285
                value:
                  Constant:
                    String: scene
              - span:
                  start: 287
                  end: 288
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 291
          end: 305
        value:
          Call:
            name:
              span:
                start: 291
                end: 302
              value:
                Constant:
                  Identifier: gotoAndPlay
            args:
              - span:
                  start: 303
                  end: 304
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 307
          end: 325
        value:
          Call:
            name:
              span:
                start: 307
                end: 318
              value:
                Constant:
                  Identifier: gotoAndPlay
            args:
              - span:
                  start: 319
                  end: 324
                value:
                  Constant:
                    Integer: 65536
    - Expr:
        span:
          start: 327
          end: 345
        value:
          Call:
            name:
              span:
                start: 327
                end: 338
              value:
                Constant:
                  Identifier: gotoAndPlay
            args:
              - span:
                  start: 339
                  end: 344
                value:
                  Constant:
                    Integer: 65537
    - Expr:
        span:
          start: 347
          end: 365
        value:
          Call:
            name:
              span:
                start: 347
                end: 358
              value:
                Constant:
                  Identifier: gotoAndPlay
            args:
              - span:
                  start: 359
                  end: 364
                value:
                  Constant:
                    Integer: 65538
    - Expr:
        span:
          start: 367
          end: 381
        value:
          Call:
            name:
              span:
                start: 367
                end: 378
              value:
                Constant:
                  Identifier: gotoAndPlay
            args:
              - span:
                  start: 379
                  end: 380
                value:
                  Constant:
                    Integer: 0
    - Expr:
        span:
          start: 383
          end: 399
        value:
          Call:
            name:
              span:
                start: 383
                end: 394
              value:
                Constant:
                  Identifier: gotoAndStop
            args:
              - span:
                  start: 395
                  end: 398
                value:
                  Constant:
                    Integer: 123
    - Expr:
        span:
          start: 401
          end: 419
        value:
          Call:
            name:
              span:
                start: 401
                end: 412
              value:
                Constant:
                  Identifier: gotoAndStop
            args:
              - span:
                  start: 413
                  end: 418
                value:
                  Constant:
                    String: "123"
    - Expr:
        span:
          start: 421
          end: 435
        value:
          Call:
            name:
              span:
                start: 421
                end: 432
              value:
                Constant:
                  Identifier: gotoAndStop
            args:
              - span:
                  start: 433
                  end: 434
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 437
          end: 462
        value:
          Call:
            name:
              span:
                start: 437
                end: 448
              value:
                Constant:
                  Identifier: gotoAndStop
            args:
              - span:
                  start: 449
                  end: 456
                value:
                  Constant:
                    String: scene
              - span:
                  start: 458
                  end: 461
                value:
                  Constant:
                    Integer: 123
    - Expr:
        span:
          start: 464
          end: 491
        value:
          Call:
            name:
              span:
                start: 464
                end: 475
              value:
                Constant:
                  Identifier: gotoAndStop
            args:
              - span:
                  start: 476
                  end: 483
                value:
                  Constant:
                    String: scene
              - span:
                  start: 485
                  end: 490
                value:
                  Constant:
                    String: "123"
    - Expr:
        span:
          start: 493
          end: 516
        value:
          Call:
            name:
              span:
                start: 493
                end: 504
              value:
                Constant:
                  Identifier: gotoAndStop
            args:
              - span:
                  start: 505
                  end: 512
                value:
                  Constant:
                    String: scene
              - span:
                  start: 514
                  end: 515
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 518
          end: 532
        value:
          Call:
            name:
              span:
                start: 518
                end: 529
              value:
                Constant:
                  Identifier: gotoAndStop
            args:
              - span:
                  start: 530
                  end: 531
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 534
          end: 540
        value:
          Call:
            name:
              span:
                start: 534
                end: 537
              value:
                Constant:
                  Identifier: int
            args:
              - span:
                  start: 538
                  end: 539
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 542
          end: 551
        value:
          Call:
            name:
              span:
                start: 542
                end: 548
              value:
                Constant:
                  Identifier: length
            args:
              - span:
                  start: 549
                  end: 550
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 553
          end: 579
        value:
          Call:
            name:
              span:
                start: 553
                end: 562
              value:
                Constant:
                  Identifier: loadMovie
            args:
              - span:
                  start: 563
                  end: 568
                value:
                  Constant:
                    String: url
              - span:
                  start: 570
                  end: 578
                value:
                  Constant:
                    String: target
    - Expr:
        span:
          start: 581
          end: 614
        value:
          Call:
            name:
              span:
                start: 581
                end: 590
              value:
                Constant:
                  Identifier: loadMovie
            args:
              - span:
                  start: 591
                  end: 596
                value:
                  Constant:
                    String: url
              - span:
                  start: 598
                  end: 606
                value:
                  Constant:
                    String: target
              - span:
                  start: 608
                  end: 613
                value:
                  Constant:
                    String: get
    - Expr:
        span:
          start: 616
          end: 639
        value:
          Call:
            name:
              span:
                start: 616
                end: 628
              value:
                Constant:
                  Identifier: loadMovieNum
            args:
              - span:
                  start: 629
                  end: 634
                value:
                  Constant:
                    String: url
              - span:
                  start: 636
                  end: 638
                value:
                  Constant:
                    Integer: 12
    - Expr:
        span:
          start: 641
          end: 671
        value:
          Call:
            name:
              span:
                start: 641
                end: 653
              value:
                Constant:
                  Identifier: loadMovieNum
            args:
              - span:
                  start: 654
                  end: 659
                value:
                  Constant:
                    String: url
              - span:
                  start: 661
                  end: 663
                value:
                  Constant:
                    Integer: 12
              - span:
                  start: 665
                  end: 670
                value:
                  Constant:
                    String: get
    - Expr:
        span:
          start: 673
          end: 702
        value:
          Call:
            name:
              span:
                start: 673
                end: 685
              value:
                Constant:
                  Identifier: loadMovieNum
            args:
              - span:
                  start: 686
                  end: 691
                value:
                  Constant:
                    String: url
              - span:
                  start: 693
                  end: 694
                value:
                  Constant:
                    Identifier: x
              - span:
                  start: 696
                  end: 701
                value:
                  Constant:
                    String: get
    - Expr:
        span:
          start: 704
          end: 734
        value:
          Call:
            name:
              span:
                start: 704
                end: 717
              value:
                Constant:
                  Identifier: loadVariables
            args:
              - span:
                  start: 718
                  end: 723
                value:
                  Constant:
                    String: url
              - span:
                  start: 725
                  end: 733
                value:
                  Constant:
                    String: target
    - Expr:
        span:
          start: 736
          end: 759
        value:
          Call:
            name:
              span:
                start: 736
                end: 749
              value:
                Constant:
                  Identifier: loadVariables
            args:
              - span:
                  start: 750
                  end: 755
                value:
                  Constant:
                    String: url
              - span:
                  start: 757
                  end: 758
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 761
          end: 798
        value:
          Call:
            name:
              span:
                start: 761
                end: 774
              value:
                Constant:
                  Identifier: loadVariables
            args:
              - span:
                  start: 775
                  end: 780
                value:
                  Constant:
                    String: url
              - span:
                  start: 782
                  end: 790
                value:
                  Constant:
                    String: target
              - span:
                  start: 792
                  end: 797
                value:
                  Constant:
                    String: get
    - Expr:
        span:
          start: 800
          end: 827
        value:
          Call:
            name:
              span:
                start: 800
                end: 816
              value:
                Constant:
                  Identifier: loadVariablesNum
            args:
              - span:
                  start: 817
                  end: 822
                value:
                  Constant:
                    String: url
              - span:
                  start: 824
                  end: 826
                value:
                  Constant:
                    Integer: 12
    - Expr:
        span:
          start: 829
          end: 863
        value:
          Call:
            name:
              span:
                start: 829
                end: 845
              value:
                Constant:
                  Identifier: loadVariablesNum
            args:
              - span:
                  start: 846
                  end: 851
                value:
                  Constant:
                    String: url
              - span:
                  start: 853
                  end: 855
                value:
                  Constant:
                    Integer: 12
              - span:
                  start: 857
                  end: 862
                value:
                  Constant:
                    String: get
    - Expr:
        span:
          start: 865
          end: 898
        value:
          Call:
            name:
              span:
                start: 865
                end: 881
              value:
                Constant:
                  Identifier: loadVariablesNum
            args:
              - span:
                  start: 882
                  end: 887
                value:
                  Constant:
                    String: url
              - span:
                  start: 889
                  end: 890
                value:
                  Constant:
                    Identifier: x
              - span:
                  start: 892
                  end: 897
                value:
                  Constant:
                    String: get
    - Expr:
        span:
          start: 900
          end: 908
        value:
          Call:
            name:
              span:
                start: 900
                end: 905
              value:
                Constant:
                  Identifier: mbchr
            args:
              - span:
                  start: 906
                  end: 907
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 910
          end: 921
        value:
          Call:
            name:
              span:
                start: 910
                end: 918
              value:
                Constant:
                  Identifier: mblength
            args:
              - span:
                  start: 919
                  end: 920
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 923
          end: 931
        value:
          Call:
            name:
              span:
                start: 923
                end: 928
              value:
                Constant:
                  Identifier: mbord
            args:
              - span:
                  start: 929
                  end: 930
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 933
          end: 954
        value:
          Call:
            name:
              span:
                start: 933
                end: 944
              value:
                Constant:
                  Identifier: mbsubstring
            args:
              - span:
                  start: 945
                  end: 950
                value:
                  Constant:
                    String: abc
              - span:
                  start: 952
                  end: 953
                value:
                  Constant:
                    Integer: 1
    - Expr:
        span:
          start: 956
          end: 980
        value:
          Call:
            name:
              span:
                start: 956
                end: 967
              value:
                Constant:
                  Identifier: mbsubstring
            args:
              - span:
                  start: 968
                  end: 973
                value:
                  Constant:
                    String: abc
              - span:
                  start: 975
                  end: 976
                value:
                  Constant:
                    Integer: 1
              - span:
                  start: 978
                  end: 979
                value:
                  Constant:
                    Integer: 2
    - Expr:
        span:
          start: 982
          end: 993
        value:
          Call:
            name:
              span:
                start: 982
                end: 991
              value:
                Constant:
                  Identifier: nextFrame
            args: []
    - Expr:
        span:
          start: 995
          end: 1006
        value:
          Call:
            name:
              span:
                start: 995
                end: 1004
              value:
                Constant:
                  Identifier: nextScene
            args: []
    - Expr:
        span:
          start: 1008
          end: 1017
        value:
          Call:
            name:
              span:
                start: 1008
                end: 1014
              value:
                Constant:
                  Identifier: Number
            args:
              - span:
                  start: 1015
                  end: 1016
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 1019
          end: 1025
        value:
          Call:
            name:
              span:
                start: 1019
                end: 1022
              value:
                Constant:
                  Identifier: ord
            args:
              - span:
                  start: 1023
                  end: 1024
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 1027
          end: 1033
        value:
          Call:
            name:
              span:
                start: 1027
                end: 1031
              value:
                Constant:
                  Identifier: play
            args: []
    - Expr:
        span:
          start: 1035
          end: 1046
        value:
          Call:
            name:
              span:
                start: 1035
                end: 1044
              value:
                Constant:
                  Identifier: prevFrame
            args: []
    - Expr:
        span:
          start: 1048
          end: 1059
        value:
          Call:
            name:
              span:
                start: 1048
                end: 1057
              value:
                Constant:
                  Identifier: prevScene
            args: []
    - Expr:
        span:
          start: 1061
          end: 1081
        value:
          Call:
            name:
              span:
                start: 1061
                end: 1066
              value:
                Constant:
                  Identifier: print
            args:
              - span:
                  start: 1067
                  end: 1072
                value:
                  Constant:
                    String: foo
              - span:
                  start: 1074
                  end: 1080
                value:
                  Constant:
                    String: bmax
    - Expr:
        span:
          start: 1083
          end: 1104
        value:
          Call:
            name:
              span:
                start: 1083
                end: 1088
              value:
                Constant:
                  Identifier: print
            args:
              - span:
                  start: 1089
                  end: 1093
                value:
                  Constant:
                    Identifier: this
              - span:
                  start: 1095
                  end: 1103
                value:
                  Constant:
                    String: bframe
    - Expr:
        span:
          start: 1106
          end: 1128
        value:
          Call:
            name:
              span:
                start: 1106
                end: 1111
              value:
                Constant:
                  Identifier: print
            args:
              - span:
                  start: 1112
                  end: 1117
                value:
                  Constant:
                    Identifier: _root
              - span:
                  start: 1119
                  end: 1127
                value:
                  Constant:
                    String: bmovie
    - Expr:
        span:
          start: 1130
          end: 1158
        value:
          Call:
            name:
              span:
                start: 1130
                end: 1143
              value:
                Constant:
                  Identifier: printAsBitmap
            args:
              - span:
                  start: 1144
                  end: 1149
                value:
                  Constant:
                    String: foo
              - span:
                  start: 1151
                  end: 1157
                value:
                  Constant:
                    String: bmax
    - Expr:
        span:
          start: 1160
          end: 1189
        value:
          Call:
            name:
              span:
                start: 1160
                end: 1173
              value:
                Constant:
                  Identifier: printAsBitmap
            args:
              - span:
                  start: 1174
                  end: 1178
                value:
                  Constant:
                    Identifier: this
              - span:
                  start: 1180
                  end: 1188
                value:
                  Constant:
                    String: bframe
    - Expr:
        span:
          start: 1191
          end: 1221
        value:
          Call:
            name:
              span:
                start: 1191
                end: 1204
              value:
                Constant:
                  Identifier: printAsBitmap
            args:
              - span:
                  start: 1205
                  end: 1210
                value:
                  Constant:
                    Identifier: _root
              - span:
                  start: 1212
                  end: 1220
                value:
                  Constant:
                    String: bmovie
    - Expr:
        span:
          start: 1223
          end: 1254
        value:
          Call:
            name:
              span:
                start: 1223
                end: 1239
              value:
                Constant:
                  Identifier: printAsBitmapNum
            args:
              - span:
                  start: 1240
                  end: 1245
                value:
                  Constant:
                    String: "123"
              - span:
                  start: 1247
                  end: 1253
                value:
                  Constant:
                    String: bmax
    - Expr:
        span:
          start: 1256
          end: 1285
        value:
          Call:
            name:
              span:
                start: 1256
                end: 1272
              value:
                Constant:
                  Identifier: printAsBitmapNum
            args:
              - span:
                  start: 1273
                  end: 1274
                value:
                  Constant:
                    Identifier: x
              - span:
                  start: 1276
                  end: 1284
                value:
                  Constant:
                    String: bframe
    - Expr:
        span:
          start: 1287
          end: 1316
        value:
          Call:
            name:
              span:
                start: 1287
                end: 1303
              value:
                Constant:
                  Identifier: printAsBitmapNum
            args:
              - span:
                  start: 1304
                  end: 1305
                value:
                  Constant:
                    Identifier: x
              - span:
                  start: 1307
                  end: 1315
                value:
                  Constant:
                    String: bmovie
    - Expr:
        span:
          start: 1318
          end: 1341
        value:
          Call:
            name:
              span:
                start: 1318
                end: 1326
              value:
                Constant:
                  Identifier: printNum
            args:
              - span:
                  start: 1327
                  end: 1332
                value:
                  Constant:
                    String: "123"
              - span:
                  start: 1334
                  end: 1340
                value:
                  Constant:
                    String: bmax
    - Expr:
        span:
          start: 1343
          end: 1364
        value:
          Call:
            name:
              span:
                start: 1343
                end: 1351
              value:
                Constant:
                  Identifier: printNum
            args:
              - span:
                  start: 1352
                  end: 1353
                value:
                  Constant:
                    Identifier: x
              - span:
                  start: 1355
                  end: 1363
                value:
                  Constant:
                    String: bframe
    - Expr:
        span:
          start: 1366
          end: 1387
        value:
          Call:
            name:
              span:
                start: 1366
                end: 1374
              value:
                Constant:
                  Identifier: printNum
            args:
              - span:
                  start: 1375
                  end: 1376
                value:
                  Constant:
                    Identifier: x
              - span:
                  start: 1378
                  end: 1386
                value:
                  Constant:
                    String: bmovie
    - Expr:
        span:
          start: 1389
          end: 1400
        value:
          Call:
            name:
              span:
                start: 1389
                end: 1395
              value:
                Constant:
                  Identifier: random
            args:
              - span:
                  start: 1396
                  end: 1399
                value:
                  Constant:
                    Integer: 123
    - Expr:
        span:
          start: 1402
          end: 1420
        value:
          Call:
            name:
              span:
                start: 1402
                end: 1417
              value:
                Constant:
                  Identifier: removeMovieClip
            args:
              - span:
                  start: 1418
                  end: 1419
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 1422
          end: 1434
        value:
          Call:
            name:
              span:
                start: 1422
                end: 1431
              value:
                Constant:
                  Identifier: startDrag
            args:
              - span:
                  start: 1432
                  end: 1433
                value:
                  Constant:
                    Identifier: x
    - Expr:
        span:
          start: 1436
          end: 1454
        value:
          Call:
            name:
              span:
                start: 1436
                end: 1445
              value:
                Constant:
                  Identifier: startDrag
            args:
              - span:
                  start: 1446
                  end: 1447
                value:
                  Constant:
                    Identifier: x
              - span:
                  start: 1449
                  end: 1453
                value:
                  Constant:
                    Identifier: "true"
    - Expr:
        span:
          start: 1456
          end: 1475
        value:
          Call:
            name:
              span:
                start: 1456
                end: 1465
              value:
                Constant:
                  Identifier: startDrag
            args:
              - span:
                  start: 1466
                  end: 1467
                value:
                  Constant:
                    Identifier: x
              - span:
                  start: 1469
                  end: 1474
                value:
                  Constant:
                    Identifier: "false"
    - Expr:
        span:
          start: 1477
          end: 1507
        value:
          Call:
            name:
              span:
                start: 1477
                end: 1486
              value:
                Constant:
                  Identifier: startDrag
            args:
              - span:
                  start: 1487
                  end: 1488
                value:
                  Constant:
                    Identifier: x
              - span:
                  start: 1490
                  end: 1494
                value:
                  Constant:
                    Identifier: "true"
              - span:
                  start: 1496
                  end: 1497
                value:
                  Constant:
                    Integer: 1
              - span:
                  start: 1499
                  end: 1500
                value:
                  Constant:
                    Integer: 2
              - span:
                  start: 1502
                  end: 1503
                value:
                  Constant:
                    Integer: 3
              - span:
                  start: 1505
                  end: 1506
                value:
                  Constant:
                    Integer: 4
    - Expr:
        span:
          start: 1509
          end: 1515
        value:
          Call:
            name:
              span:
                start: 1509
                end: 1513
              value:
                Constant:
                  Identifier: stop
            args: []
    - Expr:
        span:
          start: 1517
          end: 1532
        value:
          Call:
            name:
              span:
                start: 1517
                end: 1530
              value:
                Constant:
                  Identifier: stopAllSounds
            args: []
    - Expr:
        span:
          start: 1534
          end: 1550
        value:
          Call:
            name:
              span:
                start: 1534
                end: 1539
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 1540
                  end: 1549
                value:
                  Constant:
                    String: message
