---
source: crates/as2/src/parser/tests.rs
expression: parsed
input_file: samples/as2/op_precedence/mul_div_mod.as
---
Ok:
  statements:
    - Declare:
        - name: a
          value:
            span:
              start: 79
              end: 81
            value:
              Constant:
                Integer: 20
    - Declare:
        - name: b
          value:
            span:
              start: 91
              end: 92
            value:
              Constant:
                Integer: 6
    - Declare:
        - name: c
          value:
            span:
              start: 102
              end: 103
            value:
              Constant:
                Integer: 4
    - Expr:
        span:
          start: 136
          end: 172
        value:
          Call:
            name:
              span:
                start: 131
                end: 136
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 137
                  end: 171
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 137
                        end: 167
                      value:
                        BinaryOperator:
                          - Add
                          - span:
                              start: 137
                              end: 158
                            value:
                              BinaryOperator:
                                - Add
                                - span:
                                    start: 137
                                    end: 154
                                  value:
                                    BinaryOperator:
                                      - Add
                                      - span:
                                          start: 137
                                          end: 145
                                        value:
                                          BinaryOperator:
                                            - Add
                                            - span:
                                                start: 137
                                                end: 141
                                              value:
                                                Constant:
                                                  String: a=
                                            - span:
                                                start: 144
                                                end: 145
                                              value:
                                                Constant:
                                                  Identifier: a
                                      - span:
                                          start: 148
                                          end: 154
                                        value:
                                          Constant:
                                            String: ", b="
                                - span:
                                    start: 157
                                    end: 158
                                  value:
                                    Constant:
                                      Identifier: b
                          - span:
                              start: 161
                              end: 167
                            value:
                              Constant:
                                String: ", c="
                    - span:
                        start: 170
                        end: 171
                      value:
                        Constant:
                          Identifier: c
    - Expr:
        span:
          start: 179
          end: 187
        value:
          Call:
            name:
              span:
                start: 174
                end: 179
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 180
                  end: 186
                value:
                  Constant:
                    String: "----"
    - Expr:
        span:
          start: 249
          end: 279
        value:
          Call:
            name:
              span:
                start: 244
                end: 249
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 250
                  end: 278
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 250
                        end: 264
                      value:
                        Constant:
                          String: "a * b / c = "
                    - span:
                        start: 267
                        end: 278
                      value:
                        Parenthesis:
                          span:
                            start: 268
                            end: 277
                          value:
                            BinaryOperator:
                              - Divide
                              - span:
                                  start: 268
                                  end: 273
                                value:
                                  BinaryOperator:
                                    - Multiply
                                    - span:
                                        start: 268
                                        end: 269
                                      value:
                                        Constant:
                                          Identifier: a
                                    - span:
                                        start: 272
                                        end: 273
                                      value:
                                        Constant:
                                          Identifier: b
                              - span:
                                  start: 276
                                  end: 277
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 292
          end: 326
        value:
          Call:
            name:
              span:
                start: 287
                end: 292
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 293
                  end: 325
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 293
                        end: 309
                      value:
                        Constant:
                          String: "(a * b) / c = "
                    - span:
                        start: 312
                        end: 325
                      value:
                        Parenthesis:
                          span:
                            start: 313
                            end: 324
                          value:
                            BinaryOperator:
                              - Divide
                              - span:
                                  start: 313
                                  end: 320
                                value:
                                  Parenthesis:
                                    span:
                                      start: 314
                                      end: 319
                                    value:
                                      BinaryOperator:
                                        - Multiply
                                        - span:
                                            start: 314
                                            end: 315
                                          value:
                                            Constant:
                                              Identifier: a
                                        - span:
                                            start: 318
                                            end: 319
                                          value:
                                            Constant:
                                              Identifier: b
                              - span:
                                  start: 323
                                  end: 324
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 339
          end: 346
        value:
          Call:
            name:
              span:
                start: 334
                end: 339
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 340
                  end: 345
                value:
                  Constant:
                    String: "---"
    - Expr:
        span:
          start: 354
          end: 384
        value:
          Call:
            name:
              span:
                start: 349
                end: 354
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 355
                  end: 383
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 355
                        end: 369
                      value:
                        Constant:
                          String: "a / b * c = "
                    - span:
                        start: 372
                        end: 383
                      value:
                        Parenthesis:
                          span:
                            start: 373
                            end: 382
                          value:
                            BinaryOperator:
                              - Multiply
                              - span:
                                  start: 373
                                  end: 378
                                value:
                                  BinaryOperator:
                                    - Divide
                                    - span:
                                        start: 373
                                        end: 374
                                      value:
                                        Constant:
                                          Identifier: a
                                    - span:
                                        start: 377
                                        end: 378
                                      value:
                                        Constant:
                                          Identifier: b
                              - span:
                                  start: 381
                                  end: 382
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 401
          end: 435
        value:
          Call:
            name:
              span:
                start: 396
                end: 401
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 402
                  end: 434
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 402
                        end: 418
                      value:
                        Constant:
                          String: "(a / b) * c = "
                    - span:
                        start: 421
                        end: 434
                      value:
                        Parenthesis:
                          span:
                            start: 422
                            end: 433
                          value:
                            BinaryOperator:
                              - Multiply
                              - span:
                                  start: 422
                                  end: 429
                                value:
                                  Parenthesis:
                                    span:
                                      start: 423
                                      end: 428
                                    value:
                                      BinaryOperator:
                                        - Divide
                                        - span:
                                            start: 423
                                            end: 424
                                          value:
                                            Constant:
                                              Identifier: a
                                        - span:
                                            start: 427
                                            end: 428
                                          value:
                                            Constant:
                                              Identifier: b
                              - span:
                                  start: 432
                                  end: 433
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 452
          end: 459
        value:
          Call:
            name:
              span:
                start: 447
                end: 452
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 453
                  end: 458
                value:
                  Constant:
                    String: "---"
    - Expr:
        span:
          start: 467
          end: 497
        value:
          Call:
            name:
              span:
                start: 462
                end: 467
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 468
                  end: 496
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 468
                        end: 482
                      value:
                        Constant:
                          String: "a % b * c = "
                    - span:
                        start: 485
                        end: 496
                      value:
                        Parenthesis:
                          span:
                            start: 486
                            end: 495
                          value:
                            BinaryOperator:
                              - Multiply
                              - span:
                                  start: 486
                                  end: 491
                                value:
                                  BinaryOperator:
                                    - Modulo
                                    - span:
                                        start: 486
                                        end: 487
                                      value:
                                        Constant:
                                          Identifier: a
                                    - span:
                                        start: 490
                                        end: 491
                                      value:
                                        Constant:
                                          Identifier: b
                              - span:
                                  start: 494
                                  end: 495
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 509
          end: 543
        value:
          Call:
            name:
              span:
                start: 504
                end: 509
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 510
                  end: 542
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 510
                        end: 526
                      value:
                        Constant:
                          String: "(a % b) * c = "
                    - span:
                        start: 529
                        end: 542
                      value:
                        Parenthesis:
                          span:
                            start: 530
                            end: 541
                          value:
                            BinaryOperator:
                              - Multiply
                              - span:
                                  start: 530
                                  end: 537
                                value:
                                  Parenthesis:
                                    span:
                                      start: 531
                                      end: 536
                                    value:
                                      BinaryOperator:
                                        - Modulo
                                        - span:
                                            start: 531
                                            end: 532
                                          value:
                                            Constant:
                                              Identifier: a
                                        - span:
                                            start: 535
                                            end: 536
                                          value:
                                            Constant:
                                              Identifier: b
                              - span:
                                  start: 540
                                  end: 541
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 555
          end: 562
        value:
          Call:
            name:
              span:
                start: 550
                end: 555
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 556
                  end: 561
                value:
                  Constant:
                    String: "---"
    - Expr:
        span:
          start: 570
          end: 600
        value:
          Call:
            name:
              span:
                start: 565
                end: 570
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 571
                  end: 599
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 571
                        end: 585
                      value:
                        Constant:
                          String: "a * b % c = "
                    - span:
                        start: 588
                        end: 599
                      value:
                        Parenthesis:
                          span:
                            start: 589
                            end: 598
                          value:
                            BinaryOperator:
                              - Modulo
                              - span:
                                  start: 589
                                  end: 594
                                value:
                                  BinaryOperator:
                                    - Multiply
                                    - span:
                                        start: 589
                                        end: 590
                                      value:
                                        Constant:
                                          Identifier: a
                                    - span:
                                        start: 593
                                        end: 594
                                      value:
                                        Constant:
                                          Identifier: b
                              - span:
                                  start: 597
                                  end: 598
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 612
          end: 646
        value:
          Call:
            name:
              span:
                start: 607
                end: 612
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 613
                  end: 645
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 613
                        end: 629
                      value:
                        Constant:
                          String: "(a * b) % c = "
                    - span:
                        start: 632
                        end: 645
                      value:
                        Parenthesis:
                          span:
                            start: 633
                            end: 644
                          value:
                            BinaryOperator:
                              - Modulo
                              - span:
                                  start: 633
                                  end: 640
                                value:
                                  Parenthesis:
                                    span:
                                      start: 634
                                      end: 639
                                    value:
                                      BinaryOperator:
                                        - Multiply
                                        - span:
                                            start: 634
                                            end: 635
                                          value:
                                            Constant:
                                              Identifier: a
                                        - span:
                                            start: 638
                                            end: 639
                                          value:
                                            Constant:
                                              Identifier: b
                              - span:
                                  start: 643
                                  end: 644
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 658
          end: 665
        value:
          Call:
            name:
              span:
                start: 653
                end: 658
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 659
                  end: 664
                value:
                  Constant:
                    String: "---"
    - Expr:
        span:
          start: 673
          end: 703
        value:
          Call:
            name:
              span:
                start: 668
                end: 673
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 674
                  end: 702
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 674
                        end: 688
                      value:
                        Constant:
                          String: "a % b / c = "
                    - span:
                        start: 691
                        end: 702
                      value:
                        Parenthesis:
                          span:
                            start: 692
                            end: 701
                          value:
                            BinaryOperator:
                              - Divide
                              - span:
                                  start: 692
                                  end: 697
                                value:
                                  BinaryOperator:
                                    - Modulo
                                    - span:
                                        start: 692
                                        end: 693
                                      value:
                                        Constant:
                                          Identifier: a
                                    - span:
                                        start: 696
                                        end: 697
                                      value:
                                        Constant:
                                          Identifier: b
                              - span:
                                  start: 700
                                  end: 701
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 717
          end: 751
        value:
          Call:
            name:
              span:
                start: 712
                end: 717
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 718
                  end: 750
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 718
                        end: 734
                      value:
                        Constant:
                          String: "(a % b) / c = "
                    - span:
                        start: 737
                        end: 750
                      value:
                        Parenthesis:
                          span:
                            start: 738
                            end: 749
                          value:
                            BinaryOperator:
                              - Divide
                              - span:
                                  start: 738
                                  end: 745
                                value:
                                  Parenthesis:
                                    span:
                                      start: 739
                                      end: 744
                                    value:
                                      BinaryOperator:
                                        - Modulo
                                        - span:
                                            start: 739
                                            end: 740
                                          value:
                                            Constant:
                                              Identifier: a
                                        - span:
                                            start: 743
                                            end: 744
                                          value:
                                            Constant:
                                              Identifier: b
                              - span:
                                  start: 748
                                  end: 749
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 765
          end: 772
        value:
          Call:
            name:
              span:
                start: 760
                end: 765
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 766
                  end: 771
                value:
                  Constant:
                    String: "---"
    - Expr:
        span:
          start: 780
          end: 810
        value:
          Call:
            name:
              span:
                start: 775
                end: 780
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 781
                  end: 809
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 781
                        end: 795
                      value:
                        Constant:
                          String: "a / b % c = "
                    - span:
                        start: 798
                        end: 809
                      value:
                        Parenthesis:
                          span:
                            start: 799
                            end: 808
                          value:
                            BinaryOperator:
                              - Modulo
                              - span:
                                  start: 799
                                  end: 804
                                value:
                                  BinaryOperator:
                                    - Divide
                                    - span:
                                        start: 799
                                        end: 800
                                      value:
                                        Constant:
                                          Identifier: a
                                    - span:
                                        start: 803
                                        end: 804
                                      value:
                                        Constant:
                                          Identifier: b
                              - span:
                                  start: 807
                                  end: 808
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 826
          end: 860
        value:
          Call:
            name:
              span:
                start: 821
                end: 826
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 827
                  end: 859
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 827
                        end: 843
                      value:
                        Constant:
                          String: "(a / b) % c = "
                    - span:
                        start: 846
                        end: 859
                      value:
                        Parenthesis:
                          span:
                            start: 847
                            end: 858
                          value:
                            BinaryOperator:
                              - Modulo
                              - span:
                                  start: 847
                                  end: 854
                                value:
                                  Parenthesis:
                                    span:
                                      start: 848
                                      end: 853
                                    value:
                                      BinaryOperator:
                                        - Divide
                                        - span:
                                            start: 848
                                            end: 849
                                          value:
                                            Constant:
                                              Identifier: a
                                        - span:
                                            start: 852
                                            end: 853
                                          value:
                                            Constant:
                                              Identifier: b
                              - span:
                                  start: 857
                                  end: 858
                                value:
                                  Constant:
                                    Identifier: c
    - Expr:
        span:
          start: 876
          end: 883
        value:
          Call:
            name:
              span:
                start: 871
                end: 876
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 877
                  end: 882
                value:
                  Constant:
                    String: "---"
    - Expr:
        span:
          start: 891
          end: 937
        value:
          Call:
            name:
              span:
                start: 886
                end: 891
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 892
                  end: 936
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 892
                        end: 918
                      value:
                        Constant:
                          String: "Nested: a * b / c * b = "
                    - span:
                        start: 921
                        end: 936
                      value:
                        Parenthesis:
                          span:
                            start: 922
                            end: 935
                          value:
                            BinaryOperator:
                              - Multiply
                              - span:
                                  start: 922
                                  end: 931
                                value:
                                  BinaryOperator:
                                    - Divide
                                    - span:
                                        start: 922
                                        end: 927
                                      value:
                                        BinaryOperator:
                                          - Multiply
                                          - span:
                                              start: 922
                                              end: 923
                                            value:
                                              Constant:
                                                Identifier: a
                                          - span:
                                              start: 926
                                              end: 927
                                            value:
                                              Constant:
                                                Identifier: b
                                    - span:
                                        start: 930
                                        end: 931
                                      value:
                                        Constant:
                                          Identifier: c
                              - span:
                                  start: 934
                                  end: 935
                                value:
                                  Constant:
                                    Identifier: b
    - Expr:
        span:
          start: 951
          end: 1017
        value:
          Call:
            name:
              span:
                start: 946
                end: 951
              value:
                Constant:
                  Identifier: trace
            args:
              - span:
                  start: 952
                  end: 1016
                value:
                  BinaryOperator:
                    - Add
                    - span:
                        start: 952
                        end: 994
                      value:
                        Constant:
                          String: "Nested reference: (((a * b) / c) * b) = "
                    - span:
                        start: 997
                        end: 1016
                      value:
                        Parenthesis:
                          span:
                            start: 998
                            end: 1015
                          value:
                            BinaryOperator:
                              - Multiply
                              - span:
                                  start: 998
                                  end: 1011
                                value:
                                  Parenthesis:
                                    span:
                                      start: 999
                                      end: 1010
                                    value:
                                      BinaryOperator:
                                        - Divide
                                        - span:
                                            start: 999
                                            end: 1006
                                          value:
                                            Parenthesis:
                                              span:
                                                start: 1000
                                                end: 1005
                                              value:
                                                BinaryOperator:
                                                  - Multiply
                                                  - span:
                                                      start: 1000
                                                      end: 1001
                                                    value:
                                                      Constant:
                                                        Identifier: a
                                                  - span:
                                                      start: 1004
                                                      end: 1005
                                                    value:
                                                      Constant:
                                                        Identifier: b
                                        - span:
                                            start: 1009
                                            end: 1010
                                          value:
                                            Constant:
                                              Identifier: c
                              - span:
                                  start: 1014
                                  end: 1015
                                value:
                                  Constant:
                                    Identifier: b
