---
source: crates/as2/src/program.rs
expression: parsed
input_file: samples/as2/function_hoisting.as
---
Ok:
  initial_script:
    - Declare:
        - name: firstVar
          value:
            span:
              start: 15
              end: 16
            value:
              Constant:
                Integer: 1
          type_name: ~
    - Expr:
        span:
          start: 18
          end: 33
        value:
          Call:
            name:
              span:
                start: 18
                end: 31
              value:
                Constant:
                  Identifier: firstFunction
            args: []
    - Expr:
        span:
          start: 35
          end: 51
        value:
          Call:
            name:
              span:
                start: 35
                end: 49
              value:
                Constant:
                  Identifier: secondFunction
            args: []
    - Expr:
        span:
          start: 53
          end: 283
        value:
          Function:
            name: firstFunction
            args: []
            body:
              - Expr:
                  span:
                    start: 81
                    end: 105
                  value:
                    Call:
                      name:
                        span:
                          start: 81
                          end: 86
                        value:
                          Constant:
                            Identifier: trace
                      args:
                        - span:
                            start: 87
                            end: 104
                          value:
                            Constant:
                              String: first function!
              - Expr:
                  span:
                    start: 108
                    end: 133
                  value:
                    Call:
                      name:
                        span:
                          start: 108
                          end: 131
                        value:
                          Constant:
                            Identifier: functionWithinAFunction
                      args: []
              - Expr:
                  span:
                    start: 136
                    end: 198
                  value:
                    Call:
                      name:
                        span:
                          start: 136
                          end: 141
                        value:
                          Constant:
                            Identifier: trace
                      args:
                        - span:
                            start: 142
                            end: 197
                          value:
                            BinaryOperator:
                              - Add
                              - span:
                                  start: 142
                                  end: 185
                                value:
                                  BinaryOperator:
                                    - Add
                                    - span:
                                        start: 142
                                        end: 166
                                      value:
                                        BinaryOperator:
                                          - Add
                                          - span:
                                              start: 142
                                              end: 155
                                            value:
                                              Constant:
                                                String: "firstVar = "
                                          - span:
                                              start: 158
                                              end: 166
                                            value:
                                              Constant:
                                                Identifier: firstVar
                                    - span:
                                        start: 169
                                        end: 185
                                      value:
                                        Constant:
                                          String: ", secondVar = "
                              - span:
                                  start: 188
                                  end: 197
                                value:
                                  Constant:
                                    Identifier: secondVar
              - Expr:
                  span:
                    start: 202
                    end: 281
                  value:
                    Function:
                      name: functionWithinAFunction
                      args: []
                      body:
                        - Expr:
                            span:
                              start: 241
                              end: 277
                            value:
                              Call:
                                name:
                                  span:
                                    start: 241
                                    end: 246
                                  value:
                                    Constant:
                                      Identifier: trace
                                args:
                                  - span:
                                      start: 247
                                      end: 276
                                    value:
                                      Constant:
                                        String: function within a function!
    - Declare:
        - name: secondVar
          value:
            span:
              start: 300
              end: 301
            value:
              Constant:
                Integer: 2
          type_name: ~
    - Expr:
        span:
          start: 303
          end: 318
        value:
          Call:
            name:
              span:
                start: 303
                end: 316
              value:
                Constant:
                  Identifier: firstFunction
            args: []
    - Expr:
        span:
          start: 320
          end: 336
        value:
          Call:
            name:
              span:
                start: 320
                end: 334
              value:
                Constant:
                  Identifier: secondFunction
            args: []
    - Expr:
        span:
          start: 338
          end: 460
        value:
          Function:
            name: secondFunction
            args: []
            body:
              - Expr:
                  span:
                    start: 367
                    end: 392
                  value:
                    Call:
                      name:
                        span:
                          start: 367
                          end: 372
                        value:
                          Constant:
                            Identifier: trace
                      args:
                        - span:
                            start: 373
                            end: 391
                          value:
                            Constant:
                              String: second function!
              - Expr:
                  span:
                    start: 395
                    end: 457
                  value:
                    Call:
                      name:
                        span:
                          start: 395
                          end: 400
                        value:
                          Constant:
                            Identifier: trace
                      args:
                        - span:
                            start: 401
                            end: 456
                          value:
                            BinaryOperator:
                              - Add
                              - span:
                                  start: 401
                                  end: 444
                                value:
                                  BinaryOperator:
                                    - Add
                                    - span:
                                        start: 401
                                        end: 425
                                      value:
                                        BinaryOperator:
                                          - Add
                                          - span:
                                              start: 401
                                              end: 414
                                            value:
                                              Constant:
                                                String: "firstVar = "
                                          - span:
                                              start: 417
                                              end: 425
                                            value:
                                              Constant:
                                                Identifier: firstVar
                                    - span:
                                        start: 428
                                        end: 444
                                      value:
                                        Constant:
                                          String: ", secondVar = "
                              - span:
                                  start: 447
                                  end: 456
                                value:
                                  Constant:
                                    Identifier: secondVar
    - Expr:
        span:
          start: 461
          end: 476
        value:
          Call:
            name:
              span:
                start: 461
                end: 474
              value:
                Constant:
                  Identifier: firstFunction
            args: []
    - Expr:
        span:
          start: 478
          end: 494
        value:
          Call:
            name:
              span:
                start: 478
                end: 492
              value:
                Constant:
                  Identifier: secondFunction
            args: []
    - Expr:
        span:
          start: 496
          end: 635
        value:
          Function:
            name: secondFunction
            args: []
            body:
              - Expr:
                  span:
                    start: 525
                    end: 567
                  value:
                    Call:
                      name:
                        span:
                          start: 525
                          end: 530
                        value:
                          Constant:
                            Identifier: trace
                      args:
                        - span:
                            start: 531
                            end: 566
                          value:
                            Constant:
                              String: second function! (but redefined!)
              - Expr:
                  span:
                    start: 570
                    end: 632
                  value:
                    Call:
                      name:
                        span:
                          start: 570
                          end: 575
                        value:
                          Constant:
                            Identifier: trace
                      args:
                        - span:
                            start: 576
                            end: 631
                          value:
                            BinaryOperator:
                              - Add
                              - span:
                                  start: 576
                                  end: 619
                                value:
                                  BinaryOperator:
                                    - Add
                                    - span:
                                        start: 576
                                        end: 600
                                      value:
                                        BinaryOperator:
                                          - Add
                                          - span:
                                              start: 576
                                              end: 589
                                            value:
                                              Constant:
                                                String: "firstVar = "
                                          - span:
                                              start: 592
                                              end: 600
                                            value:
                                              Constant:
                                                Identifier: firstVar
                                    - span:
                                        start: 603
                                        end: 619
                                      value:
                                        Constant:
                                          String: ", secondVar = "
                              - span:
                                  start: 622
                                  end: 631
                                value:
                                  Constant:
                                    Identifier: secondVar
    - Expr:
        span:
          start: 636
          end: 651
        value:
          Call:
            name:
              span:
                start: 636
                end: 649
              value:
                Constant:
                  Identifier: firstFunction
            args: []
    - Expr:
        span:
          start: 653
          end: 669
        value:
          Call:
            name:
              span:
                start: 653
                end: 667
              value:
                Constant:
                  Identifier: secondFunction
            args: []
    - Expr:
        span:
          start: 671
          end: 696
        value:
          Call:
            name:
              span:
                start: 671
                end: 694
              value:
                Constant:
                  Identifier: functionWithinAFunction
            args: []
    - Expr:
        span:
          start: 698
          end: 753
        value:
          Function:
            name: thirdFunction
            args: []
            body:
              - Expr:
                  span:
                    start: 726
                    end: 750
                  value:
                    Call:
                      name:
                        span:
                          start: 726
                          end: 731
                        value:
                          Constant:
                            Identifier: trace
                      args:
                        - span:
                            start: 732
                            end: 749
                          value:
                            Constant:
                              String: third function!
    - Expr:
        span:
          start: 754
          end: 769
        value:
          Call:
            name:
              span:
                start: 754
                end: 767
              value:
                Constant:
                  Identifier: thirdFunction
            args: []
    - Expr:
        span:
          start: 771
          end: 828
        value:
          Function:
            name: unusedFunction
            args: []
            body:
              - Expr:
                  span:
                    start: 800
                    end: 825
                  value:
                    Call:
                      name:
                        span:
                          start: 800
                          end: 805
                        value:
                          Constant:
                            Identifier: trace
                      args:
                        - span:
                            start: 806
                            end: 824
                          value:
                            Constant:
                              String: Unused function!
