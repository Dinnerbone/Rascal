---
source: crates/as2/src/program.rs
expression: parsed
input_file: samples/as2/switch_in_loop_break_continue.as
---
Ok:
  initial_script:
    - ForIn:
        condition:
          Classic:
            initialize:
              Declare:
                - name: i
                  value:
                    span:
                      start: 13
                      end: 14
                    value:
                      Constant:
                        Integer: 0
                  type_name: ~
            condition:
              - span:
                  start: 16
                  end: 21
                value:
                  BinaryOperator:
                    - LessThan
                    - span:
                        start: 16
                        end: 17
                      value:
                        Constant:
                          Identifier: i
                    - span:
                        start: 20
                        end: 21
                      value:
                        Constant:
                          Integer: 6
            update:
              - span:
                  start: 24
                  end: 26
                value:
                  UnaryOperator:
                    - Increment: Postfix
                    - span:
                        start: 23
                        end: 24
                      value:
                        Constant:
                          Identifier: i
        body:
          Block:
            - Expr:
                span:
                  start: 34
                  end: 54
                value:
                  Trace:
                    span:
                      start: 40
                      end: 53
                    value:
                      BinaryOperator:
                        - Add
                        - span:
                            start: 40
                            end: 49
                          value:
                            Constant:
                              String: loop i=
                        - span:
                            start: 52
                            end: 53
                          value:
                            Constant:
                              Identifier: i
            - Switch:
                target:
                  span:
                    start: 68
                    end: 69
                  value:
                    Constant:
                      Identifier: i
                elements:
                  - Case:
                      span:
                        start: 86
                        end: 87
                      value:
                        Constant:
                          Integer: 0
                  - Statement:
                      Expr:
                        span:
                          start: 101
                          end: 136
                        value:
                          Trace:
                            span:
                              start: 107
                              end: 135
                            value:
                              Constant:
                                String: "  case 0 -> continue outer"
                  - Statement: Continue
                  - Case:
                      span:
                        start: 221
                        end: 222
                      value:
                        Constant:
                          Integer: 1
                  - Case:
                      span:
                        start: 237
                        end: 238
                      value:
                        Constant:
                          Integer: 2
                  - Statement:
                      Block:
                        - Expr:
                            span:
                              start: 254
                              end: 310
                            value:
                              Trace:
                                span:
                                  start: 260
                                  end: 309
                                value:
                                  Constant:
                                    String: "  case 1/2 -> fallthrough then break outer at 2"
                        - If:
                            condition:
                              span:
                                start: 328
                                end: 334
                              value:
                                BinaryOperator:
                                  - Equal
                                  - span:
                                      start: 328
                                      end: 329
                                    value:
                                      Constant:
                                        Identifier: i
                                  - span:
                                      start: 333
                                      end: 334
                                    value:
                                      Constant:
                                        Integer: 2
                            "yes":
                              Block:
                                - Break
                            "no": ~
                        - Break
                  - Case:
                      span:
                        start: 524
                        end: 525
                      value:
                        Constant:
                          Integer: 3
                  - Statement:
                      Expr:
                        span:
                          start: 539
                          end: 577
                        value:
                          Trace:
                            span:
                              start: 545
                              end: 576
                            value:
                              Constant:
                                String: "  case 3 -> break switch only"
                  - Statement: Break
                  - Case:
                      span:
                        start: 681
                        end: 682
                      value:
                        Constant:
                          Integer: 4
                  - Statement:
                      Expr:
                        span:
                          start: 696
                          end: 749
                        value:
                          Trace:
                            span:
                              start: 702
                              end: 748
                            value:
                              Constant:
                                String: "  case 4 -> continue outer from nested block"
                  - Statement:
                      Block:
                        - If:
                            condition:
                              span:
                                start: 833
                                end: 837
                              value:
                                Constant:
                                  Identifier: "true"
                            "yes":
                              Block:
                                - Continue
                            "no": ~
                  - Default
                  - Statement:
                      Expr:
                        span:
                          start: 933
                          end: 966
                        value:
                          Trace:
                            span:
                              start: 939
                              end: 965
                            value:
                              Constant:
                                String: "  default -> normal work"
            - Expr:
                span:
                  start: 979
                  end: 1009
                value:
                  Trace:
                    span:
                      start: 985
                      end: 1008
                    value:
                      BinaryOperator:
                        - Add
                        - span:
                            start: 985
                            end: 1004
                          value:
                            Constant:
                              String: "  after switch i="
                        - span:
                            start: 1007
                            end: 1008
                          value:
                            Constant:
                              Identifier: i
    - Expr:
        span:
          start: 1014
          end: 1027
        value:
          Trace:
            span:
              start: 1020
              end: 1026
            value:
              Constant:
                String: done
